{"version":3,"sources":["store/index.js","components/clothBasket.js","App.js","index.js"],"names":["EDIT_CLICK","CHANGING_VALUE","SAVE_CHANGES","initialState","currentId","clothList","map","name","id","editValue","store","createStore","state","action","type","currentItem","find","cloth","value","length","filter","ClothBasket","editItem","props","editClick","event","valueOnChange","target","match","valueChanger","join","submitChange","key","clothChanger","this","onChange","onKeyDown","onClick","Component","connect","dispatch","App","ReactDOM","render","document","getElementById"],"mappings":"s5BAGA,IAAMA,EAAa,aACbC,EAAiB,iBACjBC,EAAe,eAGfC,EAAe,CACnBC,UAAW,KACXC,UAAW,CAAC,QAAS,OAAQ,WAAY,QAAS,WAAY,WAAY,SAAU,OACjFC,KAAI,SAACC,GAAD,MAAW,CAACC,GAAID,EAAMA,WAC7BE,UAAW,IAuDN,IAAMC,EAAQC,aArCrB,SAAkBC,EAAOC,GACvB,OAAOA,EAAOC,MACZ,KAAKd,EACH,IAAMe,EAAcH,EAAMP,UAAUW,MAAK,SAAAC,GAAK,OAAIA,EAAMT,KAAOK,EAAOL,MAEtE,OAAO,EAAP,GACKI,EADL,CAEER,UAAWS,EAAOL,GAClBH,UAAU,YAAKO,EAAMP,WACrBI,UAAWM,EAAYR,OAE3B,KAAKN,EAEH,OAAO,EAAP,GACKW,EADL,CAEEH,UAAWI,EAAOK,QAEtB,KAAKhB,EAEH,OAAO,EAAP,GACKU,EADL,CAEEP,UAAaO,EAAMH,UAAUU,OAI3B,YAAIP,EAAMP,WAAWC,KAAI,SAAAW,GAAK,OAAIA,EAAMT,KAAOK,EAAOL,GAApB,KAC/BS,EAD+B,CAElCV,KAAM,CAACK,EAAMH,aACVQ,KALH,YAAIL,EAAMP,WAAWe,QAAO,SAAAH,GAAK,OAAIA,EAAMT,KAAOK,EAAOL,MAM3DC,UAAW,GACXL,UAAW,OAEf,QACE,OAAOQ,KAI6BT,GC/DpCkB,E,2MAEJC,SAAW,SAACd,GACV,EAAKe,MAAMC,UAAUhB,I,EAGvBC,UAAY,SAACgB,GACX,IAAMC,EAAgBD,EAAME,OAAOT,MAAMU,MAAM,kBAE/C,EAAKL,MAAMM,aAAaH,EAAgBA,EAAcI,KAAK,IAAM,K,EAGnEC,aAAe,SAACN,EAAOjB,GAEH,UAAdiB,EAAMO,KACR,EAAKT,MAAMU,aAAazB,I,wEAIlB,IAAD,SACqC0B,KAAKX,MAAzClB,EADD,EACCA,UAAWD,EADZ,EACYA,UAAWK,EADvB,EACuBA,UAE9B,OACE,4BACGJ,EAAUC,KAAI,gBAAEE,EAAF,EAAEA,GAAID,EAAN,EAAMA,KAAN,OACb,wBAAIyB,IAAKxB,GACRA,IAAOJ,EACN,2BACEU,KAAK,OACLI,MAAOT,EACP0B,SAAU,EAAK1B,UACf2B,UAAW,SAACX,GAAD,OAAW,EAAKM,aAAaN,EAAOjB,MAEjD,oCACGD,EACD,4BAAQ8B,QAAS,kBAAM,EAAKf,SAASd,KAArC,kB,GAnCY8B,aA0DXC,eAbS,SAAC3B,GAAD,MAAY,CAChCP,UAAWO,EAAMP,UACjBD,UAAWQ,EAAMR,UACjBK,UAAWG,EAAMH,cAGM,SAAC+B,GAAD,MAAe,CACxChB,UAAW,SAAAhB,GAAE,OAAIgC,EDzCM,SAAChC,GAAD,MAAS,CAChCM,KAAMd,EACNQ,MCuC0BgB,CAAUhB,KACpCqB,aAAc,SAAAX,GAAK,OAAIsB,EDrCG,SAACtB,GAAD,MAAY,CACtCJ,KAAMb,EACNiB,SCmCgCW,CAAaX,KAC7Ce,aAAc,SAAAzB,GAAE,OAAIgC,EDjCM,SAAChC,GAAD,MAAS,CACnCM,KAAMZ,EACNM,MC+B6ByB,CAAazB,QAI7B+B,CAA6ClB,GChD7CoB,MARf,WACE,OACE,kBAAC,IAAD,CAAU/B,MAAOA,GACf,kBAAC,EAAD,QCHNgC,IAASC,OACL,kBAAC,EAAD,MACFC,SAASC,eAAe,W","file":"static/js/main.23d434c6.chunk.js","sourcesContent":["\nimport { createStore } from \"redux\";\n\nconst EDIT_CLICK = 'edit_click';\nconst CHANGING_VALUE = 'changing_value';\nconst SAVE_CHANGES = 'save_changes';\n\n\nconst initialState = {\n  currentId: null,\n  clothList: ['Apron', 'Belt', 'Cardigan', 'Dress', 'Earrings', 'Fur coat', 'Gloves', 'Hat']\n    .map((name) => ({id: name, name})),\n  editValue: '',\n};\n\nexport const editClick = (id) => ({\n  type: EDIT_CLICK,\n  id\n});\n\nexport const valueChanger = (value) => ({\n  type: CHANGING_VALUE,\n  value,\n});\n\nexport const clothChanger = (id) => ({\n  type: SAVE_CHANGES,\n  id,\n});\n\nfunction reducer (state, action) {\n  switch(action.type) {\n    case EDIT_CLICK:\n      const currentItem = state.clothList.find(cloth => cloth.id === action.id);\n\n      return ({\n        ...state,\n        currentId: action.id,\n        clothList: [...state.clothList],\n        editValue: currentItem.name,\n      });\n    case CHANGING_VALUE:\n\n      return ({\n        ...state,\n        editValue: action.value,\n      });\n    case SAVE_CHANGES:\n\n      return ({\n        ...state,\n        clothList:  !state.editValue.length\n          ?\n          [...state.clothList].filter(cloth => cloth.id !== action.id)\n          :\n          [...state.clothList].map(cloth => cloth.id === action.id ? ({\n          ...cloth,\n          name: [state.editValue],\n        }) : cloth),\n        editValue: '',\n        currentId: null,\n      });\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(reducer, initialState);\n\n\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport {clothChanger, editClick, valueChanger} from \"../store\";\n\nclass ClothBasket extends Component {\n\n  editItem = (id) => {\n    this.props.editClick(id);\n  };\n\n  editValue = (event) => {\n    const valueOnChange = event.target.value.match(/[\\w]+\\W{0,2}/ig);\n\n    this.props.valueChanger(valueOnChange ? valueOnChange.join('') : '');\n  };\n\n  submitChange = (event, id) => {\n\n    if (event.key === \"Enter\") {\n      this.props.clothChanger(id)\n    }\n  };\n\n  render() {\n    const { clothList, currentId, editValue } = this.props;\n\n    return (\n      <ul>\n        {clothList.map(({id, name}) => (\n          <li key={id} >\n          {id === currentId ?\n            <input\n              type='text'\n              value={editValue}\n              onChange={this.editValue}\n              onKeyDown={(event) => this.submitChange(event, id)}\n            /> : (\n            <>\n              {name}\n              <button onClick={() => this.editItem(id)}>EDIT</button>\n            </>\n          )}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n    clothList: state.clothList,\n    currentId: state.currentId,\n    editValue: state.editValue,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  editClick: id => dispatch(editClick(id)),\n  valueChanger: value => dispatch(valueChanger(value)),\n  clothChanger: id => dispatch(clothChanger(id)),\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ClothBasket);\n\n\n\n","import React from 'react';\nimport './App.css';\nimport ClothBasket from \"./components/clothBasket\";\nimport  { store } from \"./store/index\";\nimport { Provider } from \"react-redux\";\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <ClothBasket/>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}